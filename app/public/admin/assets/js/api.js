import{a as s}from"./axios.js";import{g as n,s as i}from"./index.js";import{E as o}from"./element-plus.js";s.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";s.defaults.crossDomain=!0;s.defaults.withCredentials=!0;const a=s.create({baseURL:"/",timeout:5e3});a.interceptors.request.use(e=>(e.headers.auth=n("token")||"",e),e=>{console.log(e),Promise.reject(e)});a.interceptors.response.use(e=>{const t=e.data;if(t.code===0){console.log("data->",t),t.msg.name=="TokenExpiredError"?o.success("\u767B\u5F55\u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"):o.success(t.msg),i("token",""),location.href=location.origin+location.pathname+"#/login";return}return Promise.resolve(t)},e=>(console.warn(e),Promise.reject(e)));let r=new Map;r.set("prd",{API_URL:""});let u=r.get("prd");export{u as a,a as h};
